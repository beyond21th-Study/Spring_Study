팩토리 : 객체의 생성 방법을 결정하고 그렇게 만들어진 오브젝트를 돌려주는 클래스
옵젝을 생성하는 쪽과 사용하는 쪽의 역할과 책임을 분리하려는 목적으로 사용

제어의 역전 : 프로그램의 제어 흐름 구조가 뒤바뀌는 것
옵젝이 자신이 사용할 옵젝을 스스로 선택하지 않음(생성도 x)

제어권을 상위 템플릿 메소드에 위임, 필요할 때 호출되어 사용되도록 하는 것

라이브러리 : 애플리케이션 크드가 흐름을 직접 제어하여 필요한 기능이 있을 때 라이브러리를 사용

프레임워크 : 흐름을 주도하는 중 개발자가 작성한 애플리케이션 크들르 사용하도록 만드는 방식, 제어의 역전 개념이 적용되어야 함

드디어 스프링 등장

애플리케이션 컨텍스트

빈 : 제어권을 가지고 직접 만들고 관계를 부여하는 오브젝트
스프링 컨테이너가 생성과 관계 설정, 사용 등을 제어해주는 제어의 역전이 적용된 오브젝트

빈 팩토리 : 빈을 생성, 관계를 설정하는 IoC의 기본 기능에 초점을 맞춘 것
애플리케이션 컨텍스트 : 애플리케이션 전반에 걸쳐 모든 구성 요소의 제어 작업을 담당하는 IoC 엔진이라는 의미


@Configuration : 애플리케이션 컨텍스트 또는 빈 팩토리가 사용할 설정 정보라는 표시
@Bean : 오브젝트 생성을 담당하는 IoC용 메소드라는 표시

애플리케이션 컨텍스트 사용 장점
- 클라이언트가 구체적인 팩토리 클래스를 알 필요가 x
- 종합 IoC 서비스 제공(오브젝트를 효과적으로 활용할 수 있는 다양한 기능 제공, 빈이 사용할 수 있는 기반 기술 서비스나 외부 시스템과의 연동 등을 컨테이너 차원에서 제공하기도 함)
- 빈을 검색하는 다양한 방법을 제공

빈(bean) : 스프링이 IoC 방식으로 관리하는 오브젝트(생성과 제어를 담당하는 오브젝트만을 의미)
빈 팩토리(bean factory) : 스프링의 IoC를 담당하는 핵심 컨테이너
빈 등록, 생성, 조회 등 부가적으로 빈을 관리하는 기능을 담당, 보통 애플리케이션 컨텍스트를 이용하여 역할 대체
애플리케이션 컨텍스트(application context) : 빈 팩토리를 확장한 IoC 컨테이너, 빈 팩토리의 기능에 스프링이 제공하는 애플리케이션 지원 기능이 모두 포함됨
설정 정보/ 설정 메타 정보(configuration metadata) : 빈 팩토리가 IoC를 적용하기 위해 사용하는 메타 정보, 어떤 기능을 세팅하거나 조정하는 경우에도 사용되지만, IoC 커넽이너에 의해 관리되는 애플리케이션 오브젝트를 생성하고 구성할 때 사용
컨테이너(Container) : IoC 방식으로 빈을 관리한다는 의미. 스프링이라고도 불림
스프링 프레임워크 : IoC 컨테이너, 애플리케이션 컨텍스트를 포함하여 스프링이 제공하는 모든 기능을 통틀어 말할 때 주로 사용.

오브젝트의 동일성과 동등성
동일성 : == 연산자를 통해 같은 오브젝트라는 뜻
동등성 : equals()를 통해 동일한 정보를 가진 다른 오브젝트라는 뜻

스프링은 여러 번에 걸쳐 빈을 요청하더라도 매번 동일한 오브젝트를 돌려줌
-> 내부에서 생성하는 빈 오브젝트를 모두 싱글톤으로 생성
why? 스프링이 주로 적용되는 대상이 자바 엔터프라이즈 기술을 사용하는 서버 환경, 
자바는 하나의 요청을 처리하기 위해 데이터 액세스 로직, 서비스 로직, 비즈니스 로직, 프레젠테이션 로직 등의 다양한 기능을 담당하는 오브젝틀이 참여하는 계층형 구조.
매번 오브젝트가 새로 만들어진다면? 서버가 감당하기 어려운 부하 발생
이렇게 애플리케이션 안에 제한된 수(보통 한 개)만 만들어서 사용하는 것이 싱글톤 패턴의 원리
서버 환경에서는 대개 싱글톤의 사용이 권장

하지만 사용이 까다롭고 여러 문제점이 있음(안티패턴이라고도 불림)

싱글톤 패턴의 한계
- private 생성자를 갖고 있기에 상속 불가
생성자를 private으로 제한, 오로지 자신만이 자기 오브젝트를 만들도록 제한 하는 것, 객체지향의 장점인 상속과 이를 이용한 다형성 적용 불가
- 테스트가 어려움
테스트가 어렵거나 아예 불가, 만들어지는 방식이 제한적이기 때문
- 서버 환경에서 싱글톤이 하나만 만들어지는 것을 보장하지 못함
서버에서 클래스 로더를 어떻게 구성하느냐에 따라 하나 이상의 오브젝트가 생성될 수 있음
- 전역 상태를 만들 수 있기 때문에 바람직하지 못함
싱글톤은 사용하는 클라이언트가 정해져 있지 않음, 그로 인해 객체지향 프로그래밍에서 권장되지 않는 전역 상태를 갖게 됨

싱글톤 레지스트리 : 스프링이 직접 싱글톤 형태의 오브젝트를 만들고 관리하는 기능을 제공하는 것

장점
- 스태틱 메소드와 private 생성자를 사용해야 하는 비정상적인 클래스가 아니라 평범한 자바 클래스를 싱글톤으로 활용하게 해준다는 점, public 생성자를 가질 수 있고, 테스트 환경에서도 자유롭게 옵젝 생성 가능
- 객체지향적인 설계 방식과 원칙, 디자인 패턴 등을 적용하는데 아무런 제약이 없다는 점

스프링은 IoC 컨테이너일 뿐만 아니라 고전적인 싱글톤 패턴을 대신하여 싱글톤을 만들고 관리해주는 싱글톤 레지스트리
